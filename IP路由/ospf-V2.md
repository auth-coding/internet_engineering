OSPF:(open shortest path first)开放式最短路径优先协议，内部网关协议（IGP）的一种。应用于AS内部，是设备获得远端网络的路由。

OSPF特点：
	1、适用范围广。能够适用于更大规模的网络（可支持几百台网络设备）。
	2、收敛速度快。一旦网络拓扑发生变化，能够快速通告路由信息，更新路由表。
	3、无自环。路由器之间仅同步链路状态信息，每台路由器各自独立计算路由，不会生成自环。
	4、区域划分。将一个大的路由域划分为多个较小的区域，可以节省系统资源和网络带宽，使路由稳定可靠。
	5、路由划分。将路由分为多种类型区别对待，支持灵活的控制策略。
	6、等价路由。支持等价路由。
	7、支持认证。支持报文认证，保障协议交互过程的安全。
	8、组播发送。支持以组播地址发送协议报文，可以避免干扰无关者、节省系统资源。

典型应用：
	1、域内互联。在 AS 内部运行 OSPF，划分多个区域。
	2、域间互联。多个 AS 互联，在 AS 内部运行 OSPF，在 AS 之间运行 BGP。

基本概念：
	1、路由域：AS中的所有路由设备必须直接相连，运行相同的协议，因此AS也被称为路由域。
	2、OSPF进程：OSPF是支持实例的，一个实例一个进程。每个设备可以构建多个实例，因此每个设备可以启用多个OSPF进程，每个进程
	   都独立运行一个ospf协议，每个进程都有自己的process ID。
	3、Router ID：ospf域内的每个路由设备都有属于自己的Router ID。当然，因为每个设备可以开启多个ospf进程，所以每台设备上的每个进程都会拥有属于
	   自己的Router ID,是独一无二的。
	4、区域：一个ospf域可以划分为多个域，这样有助于缓解大规模网络计算的压力。划分区域是从逻辑上将路由器划分到不同的组，每个组
	   有各自不同的(Area ID)来标识。记住，每个路由器可以属于一个或多个边界，但是一个网段必须标明属于哪一个区域，即设备的每个
	   接口必须标明自己属于哪个区域。
	   		区域中的几类路由器：
	   			1、区域内路由器。（internal router）区域内的路由器。
	   			2、区域边界路由器。（Area Border Router  ABR）,链接两个区域的路由器
	   			3、骨干路由器。该类路由器至少有一个接口属于骨干区域。所有的 ABR 和 Area0 的区域内路由器都是骨干路由器。
	   			4、自治系统边界路由器（ASBoundaryRouter，简称ASBR）。该类路由器用来与其他AS交换路由信息。ASBR并不一定位于AS的边界，它可能是区   域内路由器，也可能是 ABR。
	5、虚链路：OSPF支持虚链路。虚链路是逻辑上的链路，用于解决骨干区域不连续、骨干区域不能与常规区域不能直接相连的问题。要求虚链路的两端必须是ABR   。虚链路只能穿过一个常规区域，该区域因为被虚链路穿过，所以被称为传输区域。

LSA:
	OSPF用来通告路由信息的形式总称。有如下几类：
		1、Router-LSA（Type1）：由每个路由器始发，描述了路由器的链路状态和代价，在始发路由器所在区域内传播。
		2、Network-LSA（Type2）： NBMA 类型网络上的 DR 始发，描述本网段的链路状态，在 DR 所在区域内传播。
		3、Network-summary-LSA（Type3）： ABR 始发，描述到其它区域的路由，通告给非 Totally STUB、NSSA 区域。
		4、ASBR-summary-LSA（Type4）： ABR 始发，描述到 ASBR 的路由，通告给除 ASBR 所在区域的其他区域。
		5、AS-external-LSA（Type5）：由 ASBR 始发，描述到 AS 外部的路由，通告到所有区域（除了 STUB、NSSA 区域）。
		6、NSSA LSA（Type7）：由 ASBR 始发，描述到 AS 外部的路由，仅在 NSSA 区域内传播。
		7、Opaque LSA（Type9/Type10/Type11）：Opaque LSA 提供用于 OSPF 的扩展的通用机制。

OSPF报文类型：
	1、Hello ：周期性发送，用来发现 OSPF 邻居，维持邻接关系。
	2、DD（Database Description）：描述本地 LSDB（Link-State Database，链路状态数据库）的摘要信息，用于在OSPF 邻居之间进行数据库同步。
	3、LSR（Link State Request）：用于向对方请求所需的 LSA。只有在 OSPF 邻居双方成功交换 DD 报文后，才会向对方发出 LSR 报文。
	4、LSU（Link State Update）：用于向对方发送其所需要的 LSA。
	5、LSAck（Link State Acknowledgment）：用来对收到的 LSA 进行确认。

OSPF功能特性：
	1、链路状态路由协议：在路由器上运行 OSPF，即可获得到达网络各个位置的路由。
	2、OSPF 路由管理：通过人为配置，合理规划或优化 OSPF 路由，实现管理的目的。
	3、增强安全性、可靠性：认证、与 BFD 联动等功能使 OSPF 更安全、更稳定可靠。
	4、支持网管功能 ：MIB、SYSLOG 等功能使 OSPF 更易于管理。

链路状态路由协议工作过程：
	OSPF属于链路状态工作协议，因此此工作过程也是OSPF的工作过程：
	1、邻居发现->双向通信
			在相连的路由器之间建立 OSPF 邻居关系，并保持双向通信。
	2、数据库同步->完全邻接
			路由器使用 LSA 发布自己的全部链路状态。邻居之间交换 LSA，同步 LSDB，达到完全邻接状态。
	3、计算 SPT ->形成路由表
			路由器根据LSDB中的信息，利用迪杰斯特拉算法算出网络中的各个路由设备到其余设备的最短路径，最终形成OSPF路由表。

